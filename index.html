<!DOCTYPE html>
<html lang="th">
<head>
┬а ┬а <meta charset="UTF-8">
┬а ┬а <meta name="viewport" content="width=device-width, initial-scale=1.0">
┬а ┬а <title>Scam Guard AI - Risk Analyzer</title>
┬а ┬а <script src="https://cdn.tailwindcss.com"></script>
┬а ┬а <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
┬а ┬а┬а
┬а ┬а <script>
┬а ┬а ┬а ┬а tailwind.config = {
┬а ┬а ┬а ┬а ┬а ┬а theme: {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а extend: {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а fontFamily: {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а sans: ['Prompt', 'sans-serif'],
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а },
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а colors: {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а brand: {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а 50: '#eff6ff',
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а 100: '#dbeafe',
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а 500: '#3b82f6',
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а 600: '#2563eb',
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а 700: '#1d4ed8',
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а },
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а risk: {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а safe: '#10b981',┬а ┬а ┬а // Green
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а watch: '#38bdf8',┬а ┬а ┬а// Blue
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а risk: '#facc15',┬а ┬а ┬а // Yellow
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а danger: '#fb923c',┬а ┬а // Orange
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а scam: '#ef4444'┬а ┬а ┬а ┬а// Red
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а }
┬а ┬а </script>
┬а ┬а <style>
┬а ┬а ┬а ┬а body { background-color: #f8fafc; }
┬а ┬а ┬а ┬а .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 300ms; }
┬а ┬а </style>
</head>
<body onload="checkAPIServer()" class="min-h-screen flex flex-col text-slate-800">

┬а ┬а <div class="bg-slate-900 text-white py-2 px-4 text-xs font-medium">
┬а ┬а ┬а ┬а <div class="max-w-4xl mx-auto flex justify-between items-center">
┬а ┬а ┬а ┬а ┬а ┬а <div class="flex items-center space-x-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex items-center">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span id="apiStatusDot" class="w-2 h-2 rounded-full bg-gray-500 mr-2"></span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span>API Server: <span id="apiStatusText" class="opacity-75">Checking...</span></span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex items-center">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span id="aiStatusDot" class="w-2 h-2 rounded-full bg-gray-500 mr-2"></span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span>AI Engine: <span id="aiStatusText" class="opacity-75">Waiting...</span></span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а <div class="opacity-50">Dev Mode</div>
┬а ┬а ┬а ┬а </div>
┬а ┬а </div>

┬а ┬а <main class="flex-grow container mx-auto px-4 py-8 max-w-2xl">
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а <div class="text-center mb-10">
┬а ┬а ┬а ┬а ┬а ┬а <div class="inline-flex items-center justify-center p-3 bg-brand-100 rounded-full mb-4 shadow-sm">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span class="text-3xl">ЁЯЫбя╕П</span>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а <h1 class="text-3xl md:text-4xl font-bold text-slate-900 mb-2">р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╣Ар╕кр╕╡р╣Ир╕вр╕Зр╕бр╕┤р╕Ир╕Йр╕▓р╕Кр╕╡р╕Ю</h1>
┬а ┬а ┬а ┬а ┬а ┬а <p class="text-slate-500 text-lg">AI-Powered Scam Detector</p>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-100">
┬а ┬а ┬а ┬а ┬а ┬а <div class="p-6 md:p-8">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="inputText" class="block text-slate-700 font-semibold mb-3 text-lg">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Чр╕╡р╣Ир╕Щр╣Ир╕▓р╕кр╕Зр╕кр╕▒р╕в
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <textarea id="inputText"┬а
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а onkeydown="handleEnter(event)"
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а class="w-full bg-slate-50 border border-slate-200 p-4 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all text-slate-700 text-base resize-none placeholder-slate-400"┬а
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а rows="5"┬а
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а placeholder="р╕зр╕▓р╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕Кр╕Ч, SMS р╕лр╕гр╕╖р╕нр╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Др╕Щр╕гр╣Йр╕▓р╕вр╕Юр╕╣р╕Фр╕Чр╕╡р╣Ир╕Щр╕╡р╣И... (р╕Бр╕Ф Enter р╣Ар╕Юр╕╖р╣Ир╕нр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣М, Shift+Enter р╣Ар╕Юр╕╖р╣Ир╕нр╕Вр╕╢р╣Йр╕Щр╕Ър╕гр╕гр╕Чр╕▒р╕Фр╣Гр╕лр╕бр╣И)"></textarea>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="mt-6">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <button id="analyzeBtn" onclick="analyzeText()"┬а
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а class="w-full bg-brand-600 hover:bg-brand-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all flex justify-center items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span>ЁЯФН р╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╕Др╕зр╕▓р╕бр╣Ар╕кр╕╡р╣Ир╕вр╕З</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </button>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div id="resultSection" class="mt-8 hidden transition-all duration-500 ease-in-out opacity-0 transform translate-y-4">
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а <div id="verdictCard" class="bg-white rounded-2xl shadow-lg overflow-hidden border-l-8 mb-6">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="p-6 md:p-8">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h2 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-1">р╕Ьр╕ер╕Бр╕▓р╕гр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣М</h2>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 id="verdictTitle" class="text-3xl font-extrabold text-slate-900"></h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="mt-4 md:mt-0 flex items-center bg-slate-100 px-4 py-2 rounded-lg">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span class="text-slate-500 font-medium mr-2">р╕Др╕зр╕▓р╕бр╣Ар╕кр╕╡р╣Ир╕вр╕З</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span id="scoreText" class="text-2xl font-bold text-slate-800">0</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span class="text-sm text-slate-400 ml-1">%</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="w-full bg-slate-200 rounded-full h-3 mb-6 overflow-hidden">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="scoreFill" class="h-full rounded-full transition-all duration-1000 ease-out" style="width: 0%"></div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="grid grid-cols-2 gap-4 mb-6">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="bg-slate-50 p-4 rounded-xl border border-slate-100">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-xs text-slate-500 mb-1">р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ (Pattern)</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p id="patternText" class="font-semibold text-slate-700"></p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="bg-slate-50 p-4 rounded-xl border border-slate-100 flex flex-col justify-center">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-xs text-slate-500 mb-1">тП▒я╕П р╣Ар╕зр╕ер╕▓р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p id="timeText" class="font-semibold text-slate-700 text-lg">-</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="bg-brand-50 rounded-xl p-5 border border-brand-100">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex items-start gap-3">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <span class="text-2xl mt-1">ЁЯТб</span>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h4 class="font-bold text-brand-700 mb-1">р╕бр╕╕р╕бр╕бр╕нр╕Зр╕Вр╕нр╕З AI</h4>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p id="analysisText" class="text-brand-800 leading-relaxed text-sm md:text-base"></p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а ┬а ┬а <div class="text-center">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <button onclick="resetForm()" class="text-slate-400 hover:text-slate-600 font-medium text-sm underline transition-colors">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а р╕ер╣Йр╕▓р╕Зр╕Др╣Ир╕▓р╣Бр╕ер╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Гр╕лр╕бр╣И
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </button>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>

┬а ┬а </main>

┬а ┬а <footer class="text-center py-6 text-slate-400 text-sm">
┬а ┬а ┬а ┬а <p>&copy; 2026 Scam Guard Project. Powered by Ollama & FastAPI.</p>
┬а ┬а </footer>

┬а ┬а <script>
┬а ┬а // *******************************************************************
┬а ┬а // CONFIGURATION
┬а ┬а // *******************************************************************
┬а ┬а const API_URL = 'https://maranda-unhoed-unpervertedly.ngrok-free.dev';┬а

┬а ┬а function handleEnter(e) {
┬а ┬а ┬а ┬а if (e.key === 'Enter' && !e.shiftKey) {
┬а ┬а ┬а ┬а ┬а ┬а e.preventDefault();┬а
┬а ┬а ┬а ┬а ┬а ┬а const btn = document.getElementById('analyzeBtn');
┬а ┬а ┬а ┬а ┬а ┬а if (!btn.disabled) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а analyzeText();
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а }
┬а ┬а }

┬а ┬а // --- 1. Check API Status on Load ---
┬а ┬а async function checkAPIServer() {
┬а ┬а ┬а ┬а const dot = document.getElementById('apiStatusDot');
┬а ┬а ┬а ┬а const text = document.getElementById('apiStatusText');
┬а ┬а ┬а ┬а try {
┬а ┬а ┬а ┬а ┬а ┬а const response = await fetch(`${API_URL}/`);
┬а ┬а ┬а ┬а ┬а ┬а if (response.ok) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а dot.className = 'w-2 h-2 rounded-full bg-green-500 mr-2 animate-pulse';
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а text.innerText = 'Online';
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а text.className = 'text-green-400 font-bold';
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а } catch (error) {
┬а ┬а ┬а ┬а ┬а ┬а dot.className = 'w-2 h-2 rounded-full bg-red-500 mr-2';
┬а ┬а ┬а ┬а ┬а ┬а text.innerText = 'Offline';
┬а ┬а ┬а ┬а ┬а ┬а text.className = 'text-red-400 font-bold';
┬а ┬а ┬а ┬а }
┬а ┬а }

┬а ┬а // --- 2. Main Analyze Function (With Timer) ---
┬а ┬а async function analyzeText() {
┬а ┬а ┬а ┬а const inputField = document.getElementById('inputText');
┬а ┬а ┬а ┬а const btn = document.getElementById('analyzeBtn');
┬а ┬а ┬а ┬а const aiStatusText = document.getElementById('aiStatusText');
┬а ┬а ┬а ┬а const aiDot = document.getElementById('aiStatusDot');
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а const text = inputField.value.trim();

┬а ┬а ┬а ┬а if (!text) {
┬а ┬а ┬а ┬а ┬а ┬а alert("р╕Бр╕гр╕╕р╕Ур╕▓р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Бр╣Ир╕нр╕Щр╕Бр╕Фр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣М");
┬а ┬а ┬а ┬а ┬а ┬а inputField.focus();
┬а ┬а ┬а ┬а ┬а ┬а return;
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а const startTime = performance.now();

┬а ┬а ┬а ┬а btn.disabled = true;
┬а ┬а ┬а ┬а btn.innerHTML = `
┬а ┬а ┬а ┬а ┬а ┬а <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬аxmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <circle class="opacity-25" cx="12" cy="12" r="10"
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а stroke="currentColor" stroke-width="4"></circle>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <path class="opacity-75" fill="currentColor"
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а d="M4 12a8 8 0 018-8V0
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬аC5.373 0 0 5.373 0 12h4
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬аzm2 5.291A7.962 7.962 0 014 12H0
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬аc0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
┬а ┬а ┬а ┬а ┬а ┬а </svg>
┬а ┬а ┬а ┬а ┬а ┬а р╕Бр╕│р╕ер╕▒р╕Зр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е...
┬а ┬а ┬а ┬а `;
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а aiStatusText.innerText = "Processing...";
┬а ┬а ┬а ┬а aiStatusText.className = "text-yellow-400 font-bold";
┬а ┬а ┬а ┬а aiDot.className = "w-2 h-2 rounded-full bg-yellow-400 mr-2 animate-pulse";

┬а ┬а ┬а ┬а document.getElementById('resultSection').classList.add('hidden');

┬а ┬а ┬а ┬а try {
┬а ┬а ┬а ┬а ┬а ┬а const response = await fetch(`${API_URL}/analyze`, {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а method: 'POST',
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а headers: { 'Content-Type': 'application/json' },
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а body: JSON.stringify({ text })
┬а ┬а ┬а ┬а ┬а ┬а });

┬а ┬а ┬а ┬а ┬а ┬а const data = await response.json();
┬а ┬а ┬а ┬а ┬а ┬а const duration = ((performance.now() - startTime) / 1000).toFixed(2);

┬а ┬а ┬а ┬а ┬а ┬а if (!response.ok) throw new Error(data.detail || "API Error");

┬а ┬а ┬а ┬а ┬а ┬а aiStatusText.innerText = "Ready";
┬а ┬а ┬а ┬а ┬а ┬а aiStatusText.className = "text-green-400 font-bold";
┬а ┬а ┬а ┬а ┬а ┬а aiDot.className = "w-2 h-2 rounded-full bg-green-500 mr-2";

┬а ┬а ┬а ┬а ┬а ┬а displayResult(data, duration);

┬а ┬а ┬а ┬а } catch (error) {
┬а ┬а ┬а ┬а ┬а ┬а alert("р╣Ар╕Бр╕┤р╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф: " + error.message);
┬а ┬а ┬а ┬а ┬а ┬а aiStatusText.innerText = "Error";
┬а ┬а ┬а ┬а ┬а ┬а aiStatusText.className = "text-red-400 font-bold";
┬а ┬а ┬а ┬а ┬а ┬а aiDot.className = "w-2 h-2 rounded-full bg-red-500 mr-2";
┬а ┬а ┬а ┬а } finally {
┬а ┬а ┬а ┬а ┬а ┬а btn.disabled = false;
┬а ┬а ┬а ┬а ┬а ┬а btn.innerHTML = `<span>ЁЯФН р╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╕Др╕зр╕▓р╕бр╣Ар╕кр╕╡р╣Ир╕вр╕З (Enter)</span>`;
┬а ┬а ┬а ┬а }
┬а ┬а }

┬а ┬а // --- 3. Display Logic (MATCH BACKEND 100%) ---
┬а ┬а function displayResult(data, duration) {
┬а ┬а ┬а ┬а const section = document.getElementById('resultSection');
┬а ┬а ┬а ┬а const card = document.getElementById('verdictCard');
┬а ┬а ┬а ┬а const title = document.getElementById('verdictTitle');
┬а ┬а ┬а ┬а const scoreText = document.getElementById('scoreText');
┬а ┬а ┬а ┬а const scoreFill = document.getElementById('scoreFill');
┬а ┬а ┬а ┬а const pattern = document.getElementById('patternText');
┬а ┬а ┬а ┬а const timeDisplay = document.getElementById('timeText');
┬а ┬а ┬а ┬а const analysis = document.getElementById('analysisText');

┬а ┬а ┬а ┬а const score = Number(data.scam_score);

┬а ┬а ┬а ┬а let verdict = '';
┬а ┬а ┬а ┬а let borderColor = '';
┬а ┬а ┬а ┬а let titleColor = '';
┬а ┬а ┬а ┬а let barColor = '';

┬а ┬а ┬а ┬а // === Mapping р╕Хр╕▓р╕б Backend ===
┬а ┬а ┬а ┬а if (score >= 81) {
┬а ┬а ┬а ┬а ┬а ┬а verdict = 'р╕бр╕┤р╕Ир╕Йр╕▓р╕Кр╕╡р╕Юр╣Бр╕Щр╣Ир╕Щр╕нр╕Щ';
┬а ┬а ┬а ┬а ┬а ┬а borderColor = 'border-risk-scam';
┬а ┬а ┬а ┬а ┬а ┬а titleColor = 'text-risk-scam';
┬а ┬а ┬а ┬а ┬а ┬а barColor = 'bg-red-500';

┬а ┬а ┬а ┬а } else if (score >= 61) {
┬а ┬а ┬а ┬а ┬а ┬а verdict = 'р╕нр╕▒р╕Щр╕Хр╕гр╕▓р╕в';
┬а ┬а ┬а ┬а ┬а ┬а borderColor = 'border-risk-danger';
┬а ┬а ┬а ┬а ┬а ┬а titleColor = 'text-risk-danger';
┬а ┬а ┬а ┬а ┬а ┬а barColor = 'bg-orange-400';

┬а ┬а ┬а ┬а } else if (score >= 41) {
┬а ┬а ┬а ┬а ┬а ┬а verdict = 'р╣Ар╕кр╕╡р╣Ир╕вр╕З';
┬а ┬а ┬а ┬а ┬а ┬а borderColor = 'border-risk-risk';
┬а ┬а ┬а ┬а ┬а ┬а titleColor = 'text-risk-risk';
┬а ┬а ┬а ┬а ┬а ┬а barColor = 'bg-yellow-400';

┬а ┬а ┬а ┬а } else if (score >= 21) {
┬а ┬а ┬а ┬а ┬а ┬а verdict = 'р╣Ар╕Эр╣Йр╕▓р╕гр╕░р╕зр╕▒р╕З';
┬а ┬а ┬а ┬а ┬а ┬а borderColor = 'border-risk-watch';
┬а ┬а ┬а ┬а ┬а ┬а titleColor = 'text-risk-watch';
┬а ┬а ┬а ┬а ┬а ┬а barColor = 'bg-sky-400';

┬а ┬а ┬а ┬а } else {
┬а ┬а ┬а ┬а ┬а ┬а verdict = 'р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в';
┬а ┬а ┬а ┬а ┬а ┬а borderColor = 'border-risk-safe';
┬а ┬а ┬а ┬а ┬а ┬а titleColor = 'text-risk-safe';
┬а ┬а ┬а ┬а ┬а ┬а barColor = 'bg-green-500';
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а card.className = `bg-white rounded-2xl shadow-lg overflow-hidden border-l-8 mb-6 ${borderColor}`;
┬а ┬а ┬а ┬а title.className = `text-3xl font-extrabold ${titleColor}`;
┬а ┬а ┬а ┬а title.innerText = verdict;

┬а ┬а ┬а ┬а scoreText.innerText = score;
┬а ┬а ┬а ┬а scoreText.className = `text-2xl font-bold ${titleColor}`;

┬а ┬а ┬а ┬а scoreFill.className = `h-full rounded-full transition-all duration-1000 ease-out ${barColor}`;
┬а ┬а ┬а ┬а scoreFill.style.width = '0%';

┬а ┬а ┬а ┬а pattern.innerText = data.matched_pattern
┬а ┬а ┬а ┬а ┬а ┬а ? 'тЪая╕П р╕Юр╕Ър╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕Чр╕╡р╣Ир╣Ар╕Др╕вр╣Гр╕Кр╣Йр╣Гр╕Щр╕Др╕Фр╕╡р╕бр╕┤р╕Ир╕Йр╕▓р╕Кр╕╡р╕Ю'
┬а ┬а ┬а ┬а ┬а ┬а : 'ЁЯЖХ р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Юр╕Ър╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Фр╕┤р╕б';
┬а ┬а ┬а ┬а pattern.className = data.matched_pattern
┬а ┬а ┬а ┬а ┬а ┬а ? 'font-bold text-red-600'
┬а ┬а ┬а ┬а ┬а ┬а : 'font-medium text-slate-700';

┬а ┬а ┬а ┬а timeDisplay.innerText = `${duration} р╕зр╕┤р╕Щр╕▓р╕Чр╕╡`;
┬а ┬а ┬а ┬а analysis.innerText = data.analysis_th;

┬а ┬а ┬а ┬а section.classList.remove('hidden', 'opacity-0', 'translate-y-4');
┬а ┬а ┬а ┬а setTimeout(() => {
┬а ┬а ┬а ┬а ┬а ┬а scoreFill.style.width = `${score}%`;
┬а ┬а ┬а ┬а }, 100);

┬а ┬а ┬а ┬а section.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
┬а ┬а }

┬а ┬а function resetForm() {
┬а ┬а ┬а ┬а document.getElementById('inputText').value = '';
┬а ┬а ┬а ┬а document.getElementById('inputText').focus();
┬а ┬а ┬а ┬а const section = document.getElementById('resultSection');
┬а ┬а ┬а ┬а section.classList.add('opacity-0', 'translate-y-4');
┬а ┬а ┬а ┬а setTimeout(() => section.classList.add('hidden'), 300);
┬а ┬а }
┬а ┬а </script>
</body>
</html>
